@model Alloy.Documentation.Models.ViewModels.DocumentationPageViewModel
@{
    Layout = "~/Views/Shared/Layouts/_DocumentationLayoutPage.cshtml";
}

<ul id="slide-out" class="side-nav fixed content-types">
    <li class="logo">
        <a id="logo-container" href="." class="brand-logo">
            <object id="front-page-logo" type="image/svg+xml" data="~/Documentation/Static/images/LOGO.svg">Your browser does not support SVG</object>
        </a>
    </li>
    <li class="no-padding">
        <ul class="collapsible collapsible-accordion">
            <li>
                <a class="collapsible-header">Pages<i class="material-icons">arrow_drop_down</i></a>
                <div class="collapsible-body">
                    <ul>
                        @if (Model.Pages != null)
                        {
                            foreach (var page in Model.Pages)
                            {
                                <li><a class="content-type" href="#" data-id="@page.Key">@page.Value</a></li>
                            }
                        }
                    </ul>
                </div>
            </li>
        </ul>
    </li>
    <li class="no-padding">
        <ul class="collapsible collapsible-accordion">
            <li>
                <a class="collapsible-header">Blocks<i class="material-icons">arrow_drop_down</i></a>
                <div class="collapsible-body">
                    <ul>
                        @if (Model.Blocks != null)
                        {
                            foreach (var block in Model.Blocks)
                            {
                                <li><a class="content-type" href="#" data-id="@block.Key">@block.Value</a></li>
                            }
                        }
                    </ul>
                </div>
            </li>
        </ul>
    </li>
    <li class="no-padding">
        <ul class="collapsible collapsible-accordion">
            <li>
                <a class="collapsible-header">Media<i class="material-icons">arrow_drop_down</i></a>
                <div class="collapsible-body">
                    <ul>
                        @if (Model.Media != null)
                        {
                            foreach (var media in Model.Media)
                            {
                                <li><a class="content-type" href="#" data-id="@media.Key">@media.Value</a></li>
                            }
                        }
                    </ul>
                </div>
            </li>
        </ul>
    </li>
</ul>
<main>
    <div class="doc-container">

    </div>
    <div class="loader">
        <div class="preloader-wrapper big active">
            <div class="spinner-layer spinner-blue">
                <div class="circle-clipper left">
                    <div class="circle"></div>
                </div>
                <div class="gap-patch">
                    <div class="circle"></div>
                </div>
                <div class="circle-clipper right">
                    <div class="circle"></div>
                </div>
            </div>

            <div class="spinner-layer spinner-red">
                <div class="circle-clipper left">
                    <div class="circle"></div>
                </div>
                <div class="gap-patch">
                    <div class="circle"></div>
                </div>
                <div class="circle-clipper right">
                    <div class="circle"></div>
                </div>
            </div>

            <div class="spinner-layer spinner-yellow">
                <div class="circle-clipper left">
                    <div class="circle"></div>
                </div>
                <div class="gap-patch">
                    <div class="circle"></div>
                </div>
                <div class="circle-clipper right">
                    <div class="circle"></div>
                </div>
            </div>

            <div class="spinner-layer spinner-green">
                <div class="circle-clipper left">
                    <div class="circle"></div>
                </div>
                <div class="gap-patch">
                    <div class="circle"></div>
                </div>
                <div class="circle-clipper right">
                    <div class="circle"></div>
                </div>
            </div>
        </div>
    </div>
</main>

<script id="content-type-template" type="text/x-handlebars-template">
    <div class="document">
        <h1>{{Name}}</h1>
        <p class="flow-text">{{Description}}</p>
        {{#if MediaDescriptors}}
        <p class="flow-text">Valid extensions: {{MediaDescriptors}}</p>
        {{/if}}
        <div class="row">
            <div class="col s11">
                <h4>Properties</h4>
            </div>
            <div class="col s1">
                <a class="expander btn-flat"><i class="material-icons">swap_vert</i></a>
            </div>
        </div>
        <ul class="collapsible" data-collapsible="expandable">
            {{#each Properties}}
            <li>
                <div class="collapsible-header"><span title="Tab" class="badge">{{Tab}}</span>{{Name}} - {{Type}}</div>
                <div class="collapsible-body">
                    <div>
                        {{#if Description}}
                        <div class="description">{{Description}}</div>
                        {{/if}}
                        {{#if DefaultValue}}
                        <div class="property">
                            <span class="name">Default Value:</span>
                            <span class="value">{{DefaultValue}}</span>
                        </div>
                        {{/if}}
                        <div class="property">
                            <span class="name">Required:</span>
                            <span class="value">{{IsRequired}}</span>
                        </div>
                        <div class="property">
                            <span class="name">Searchable:</span>
                            <span class="value">{{IsSearchable}}</span>
                        </div>
                        {{#if CustomAttributes}}
                        {{#each CustomAttributes}}
                        <span class="property">
                            <span class="name">{{@@key}}:</span>
                            <span class="value">{{this}}</span>
                        </span>
                        {{/each}}
                        {{/if}}
                        {{#if AllowedTypes}}
                        <span class="property">
                            <span class="name">Allowed types:</span>
                            <span class="value content-type-links">{{#each AllowedTypes}}{{#ifeq this "All"}}All{{else}}<a href="#" data-id="{{@@key}}">{{this}}</a>{{/ifeq}},{{/each}}</span>
                        </span>
                        {{/if}}
                    </div>
                </div>
            </li>
            {{/each}}
        </ul>
        {{#ifeq Type "0"}}
        <div class="row">
            <ul class="col s6 content-type-links collection with-header">
                <li class="collection-header"><h4>Child Pages Allowed</h4></li>
                {{#if AvaliablePages}}
                {{#each AvaliablePages}}
                <li class="collection-item"><a href="#" data-id="{{@@key}}">{{this}}</a></li>
                {{else}}
                <li class="collection-item">All</li>
                {{/each}}
                {{else}}
                <li class="collection-item">None</li>
                {{/if}}
            </ul>
            <ul class="col s6 collection with-header">
                <li class="collection-header"><h4>Access Rights</h4></li>
                {{#each Access}}
                <li class="collection-item"><span class="badge">{{this}}</span>{{@@key}}</li>
                {{/each}}
            </ul>
        </div>
        {{/ifeq}}
    </div>
</script>